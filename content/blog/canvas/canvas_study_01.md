---
title: '[1ë¶„ì½”ë”©] HTML5 Canvas ë¼ì´ë¸Œ ì„¸ì…˜ #1'
date: 2021-10-03 10:19:33
category: 'canvas'
draft: false
---

# Canvas API

Canvas APIëŠ” JavaScriptì™€ HTML `<canvas>` ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ í†µí•´ ê·¸ë˜í”½ì„ ê·¸ë¦¬ê¸°ìœ„í•œ ìˆ˜ë‹¨ì„ ì œê³µ í•©ë‹ˆë‹¤.

ë¬´ì—‡ë³´ë‹¤ë„ ì• ë‹ˆë©”ì´ì…˜, ê²Œì„ê·¸ë˜í”½, ë°ì´í„° ì‹œê°í™”, ì‚¬ì§„ ì¡°ì‘ ë° ì‹¤ì‹œê°„ ë¹„ë””ì˜¤ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.

Canvas APIëŠ” ì£¼ë¡œ 2D ê·¸ë˜í”½ì— ì¤‘ì ì„ ë‘ê³  ìˆìŠµë‹ˆë‹¤. WebGL API ë˜í•œ `<canvas>` ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©°, í•˜ë“œì›¨ì–´ ê°€ì† 2D ë° 3D ê·¸ë˜í”½ì„ ê·¸ë¦½ë‹ˆë‹¤.



## ì™œ Canvasë¥¼ ì‚¬ìš©í• ê¹Œ?

canvasíŒì— ê·¸ë ¤ì§€ëŠ” ë°ì´í„° ìì²´ê°€ í”½ì…€ ë°ì´í„° í•˜ë‚˜í•˜ë‚˜ë¥¼ ë¹„íŠ¸ë§µ ë°ì´í„° ì¡°ì‘ì„ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¼ë°˜ ì´ë¯¸ì§€ë‚˜ HTML, CSS ë¡œ í•  ìˆ˜ ì—†ëŠ” ì‘ì—…ì„ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©í•©ë‹ˆë‹¤.

 >- ë¹„ë””ì˜¤ë¥¼ ì˜ê²Œ ìª¼ê°œì–´ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤ë˜ì§€
 >- ì´ë¯¸ì§€ë¥¼ ì¡°ê°ì¡°ê° ë‚´ì–´ ì–´ë–»ê²Œ í•œë‹¤ë˜ì§€
 >- ì´ë¯¸ì§€ë“¤ì´ ì ì  ì‚¬ë¼ì§€ëŠ” íš¨ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤ë˜ì§€.

ì´ë¯¸ì§€ë¥¼ ì›€ì§ì´ê±°ë‚˜ í•  ë•Œì—ë„ canvasë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¼ë°˜ì ìœ¼ë¡œ ì„±ëŠ¥ì´ ì¢‹ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•©ë‹ˆë‹¤. 

Apple ê°™ì€ ì‚¬ì´íŠ¸ì—ì„œ í° ë¹„ì£¼ì–¼ì„ ì›€ì§ì¼ ë•Œ canvasë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.



## SVG vs Canvas ë¹„êµ
>SVGëŠ” ë°±í„°

 - ë°±í„°ëŠ” ì ê³¼ ì ì„ ê³„ì‚°í•´ì„œ ê·¸ë¦¬ëŠ” ë°©ì‹
 - ì—°ì‚°ìœ¼ë¡œ ê·¸ë¦¼ì„ ê·¸ë¦¬ê¸° ë•Œë¬¸ì— í¬ê¸°ê°€ ì•„ë¬´ë¦¬ ì»¤ì ¸ë„ ìš©ëŸ‰ì´ ëŠ˜ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤
 ì ì˜ ê°¯ìˆ˜ê°€ ë§ì•„ì§€ë©´ ì—°ì‚°ì´ ëŠ˜ì–´ë‚˜ê³  ë Œë”ë§ì´ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.

 >CanvasëŠ” ë¹„íŠ¸ë§µ
  - í”½ì…€ ê°¯ìˆ˜ê°€ ë§ì•„ì§€ë©´ ìš©ëŸ‰ì´ ì»¤ì§„ë‹¤.


## Canvas inline ë„ˆë¹„ ë†’ì´ ê°’ì€ ë³„ê°œë‹¤.

  
```html
style {
    .canvas {
        width: 500px;
        height: 300px;
        background: #eee;
    }
}...

<canvas class="canvas" width="500" height="300"></canvas>
<canvas class="canvas" width="1000" height="600"></canvas>

 ë™ê·¸ë¼ë¯¸ëŠ” jsì—ì„œ canvasë¡œ ê·¸ë¦¼.
```
![canvas01](./image/canvas01.png)

 ìœ„ ì‚¬ì§„ ê²°ê³¼ê°€ ë‹¤ë¥´ê²Œ í‘œí˜„ë˜ëŠ” ì´ìœ ëŠ” canvas íƒœê·¸ ì•ˆì„ ë³´ë©´ inlineìœ¼ë¡œ ë„ˆë¹„ì™€ ë†’ì´ê°’ì´ ë‹¤ë¥´ê²Œ ì„¤ì •ë˜ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.
 cssë¡œ ì²˜ë¦¬í•´ì„œ ê²‰ë³´ê¸°ì—” ê°™ì•„ ë³´ì´ëŠ” ë„“ì´ì™€ ë†’ì´ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ inlineìœ¼ë¡œ canvas ì˜ì—­ì´ ì¡í˜€ìˆê¸°ì— ì„œë¡œ ë‹¤ë¥´ê²Œ í‘œí˜„ëœ ê²ƒì´ë‹¤.

 canvas ì˜ì—­ì„ ë” í¬ê²Œ ì¡ì•„ë‘ê³  ë³´ì´ëŠ” í•´ìƒë„ ë§Œí¼ ê·¸ë¦¬ë©´ ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ì—°ì¶œ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ë°©ë²•ë“¤ì„ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤.   

 ë‹¨ ê·¸ë§Œí¼ ìš©ëŸ‰ê³¼ ì—°ì‚°ì´ ë§ì•„ì§€ê¸° ë•Œë¬¸ì—
 ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ì‚¬ìš©í•˜ì—¬ì•¼ í•œë‹¤.


 ## ì‚¬ê°í˜• ê·¸ë¦¬ê¸°
 ê·¸ë¦¼ì„ ê·¸ë¦´ ë•Œ canvasì˜ contextë¥¼ ì´ìš©í•˜ì—¬ ê·¸ë¦°ë‹¤. 
 ```js
  const canvas = document.querySelector('.canvas');
  const context = canvas.getContext('2d');
  
  context.fillRect(50, 50, 100, 100)
  context.fillStyle = 'red';
  context.fillRect(0, 0, 100, 100);
 ```
1. canvas ìš”ì†Œë¥¼ ì¡ëŠ”ë‹¤.
2. ì¡ì€ canvas ê°ì²´ì˜ contextë¥¼ ì–»ê¸° ìœ„í•´ getContextë¥¼ í˜¸ì¶œí•˜ì—¬ ì–»ëŠ”ë‹¤.( 2ì°¨ì› ë Œë”ë§ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” "2d"ë¥¼ ì´ìš©)
3. ì‚¬ê°í˜•ì„ ê·¸ë¦¬ëŠ”ë° (x, y, width, height) ìˆœì„œì´ê³  x,yëŠ” 50, 50ì´ê³  width, heightsëŠ” 100, 100ì„ ì˜ë¯¸í•¨.
3. ì‚¬ê°í˜•ì„ ê·¸ë¦´ ê²ƒ ì¸ë° ì±„ìš°ëŠ” ìƒ‰ì„ 'red' ë¡œ ì§€ì •í•¨.
4. ì‚¬ê°í˜•ì„ ê·¸ë¦¬ëŠ”ë° (x, y, width, height) ìˆœì„œì´ê³  x,yëŠ” 0,0ì´ê³  0,0ì€ ì™¼ìª½ ì¢Œì¸¡ ìƒë‹¨ì„ ì˜ë¯¸í•¨.

ì‚¬ê°í˜• ê·¸ë¦¬ëŠ” ìš”ì†Œ 
 - fillStyle ìƒ‰ì„ ì •í•  ë•Œ ì‚¬ìš©í•¨
 - fillRect ì‚¬ê°í˜•ì„ ê·¸ë¦´ ë•Œ ì‚¬ìš©
 - clearRect ì‚¬ê°í˜•ì„ ì§€ìš¸ ë•Œ ì‚¬ìš©
 - strokeRect ëŠ” ì„ ìœ¼ë¡œ ì‚¬ê°í˜•ì„ ê·¸ë¦´ ë•Œ ì‚¬ìš©

![canvas02](./image/canvas02.png)

default ìƒ‰ì€ ê²€ì •ìƒ‰ ì´ì–´ì„œ ê²€ì • ì‚¬ê°í˜•ì´ ê·¸ë ¤ì§„ ê²ƒì´ê³  ì´ í›„ ë¹¨ê°„ìƒ‰ì„ ì§€ì •í•œ ì‚¬ê°í˜•ì´ ê·¸ë ¤ì¡Œë‹¤. ì´ í›„ ë‹¤ë¥¸ ë„í˜•ì„ ê·¸ë¦°ë‹¤ë©´ ë¹¨ê°„ë„í˜•ìœ¼ë¡œ ê·¸ë ¤ì§ˆ ê²ƒì´ë‹¤.

> ğŸ™„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ìƒ‰ì´ ì§€ì •ëœ ê²ƒì€ ë¶“ìœ¼ë¡œ ë¹¨ê°„ìƒ‰ì„ ì°ì—ˆë‹¤ ë¼ê³  ìƒê°í•´ë³´ì

> âœ¨ canvasëŠ” ë§ˆì¹˜ ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ê²ƒì²˜ëŸ¼ ìƒê°í•˜ì 

## ì„  ê·¸ë¦¬ê¸°

```js
 <script>
    // beginPath
    // moveTo
    // lineTo
    // closePath
    const canvas = document.querySelector('.canvas');
    const context = canvas.getContext('2d');

    context.beginPath();
    context.moveTo(100, 100);
    context.lineTo(300, 200);
    context.stroke();
    // context.fill();
    context.closePath();
 </scirpt>
```

  - `context.beginPath();` ëŠ” ì„ ì˜ ì‹œì‘ì„ ì•Œë ¤ì£¼ëŠ” ê²ƒ
  - `context.moveTo(100, 100);` ê·¸ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆê³  ê·¸ë¦¬ê¸° ìœ„í•´ í•´ë‹¹ ìœ„ì¹˜ë¡œ ë¶“ì„ ì˜®ê¸´ë‹¤ ë¼ëŠ” ì˜ë¯¸
  - `context.lineTo(300, 200);` ëŠ” ì„ ì„ ìƒì„±í•œë‹¤ ì—¬ê¸°ì„œ ê·¸ë¦°ë‹¤ê³  í•´ì„œ ë°”ë¡œ ë³´ì´ì§„ ì•ŠìŒ.
  - `context.stroke();` ì„ ì„ ê¸‹ëŠ”ë‹¤. ì´ì œ ì„ ì´ ê·¸ë ¤ì§
  - `context.fill();` ë©´ ì´ìˆë‹¤ë©´ ê·¸ ë©´ì˜ ìƒ‰ì„ ì±„ì›Œì¤Œ
  - `context.closePath();` pathì˜ ì‘ì„±ì´ ëë‚¬ìœ¼ë©´ ë‹«ì•„ì¤€ë‹¤.


## ì› ê·¸ë¦¬ê¸°
```js
 <script>   
    // beginPath
    // arc
    // closePath
    const canvas = document.querySelector('.canvas');
    const context = canvas.getContext('2d');

    context.arc(300, 200, 50, 0, 360);
 </scirpt>
```
 ì› ê·¸ë¦¬ê¸° ë©”ì†Œë“œê°€ ë”°ë¡œ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆê³  'arc(í˜¸)' ë¥¼ ì‚¬ìš©í•˜ì—¬ 360 ë„ ê·¸ë¦°ë‹¤

 - `context.arc(300, 200, 50, 0, 360);` ë„í˜•ì˜ í˜¸ë¥¼ ì˜ë¯¸í•¨ 
 ì›ì˜ ì¤‘ì‹¬ì ì„ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë¦¬ê¸° ë•Œë¬¸ì— x,yëŠ” ì›ì˜ ì¤‘ì‹¬ì ì„ ì˜ë¯¸í•˜ê³  50ì€ ì›ì˜ ë°˜ì§€ë¦„ ì´ë‹¤. 4,5ë²ˆì§¸ ì¸ì (0, 360)ì€ í˜¸ì˜ ì‹œì‘ ê°ë„, ë ê°ë„ë¥¼ ì˜ë¯¸í•¨. 360ë„ë¥¼ ê·¸ëŒ€ë¡œ ì“°ë©´ ì•ˆë˜ê³  radian ê°’ìœ¼ë¡œ ì ì–´ì•¼ í•œë‹¤.

 360 = 2PI,
 1 = PI / 180 ê°’ì´ ë‚˜ì˜¨ë‹¤.
 
 ```js
 function ë¼ë””ì•ˆ(ê°ë„) {
     return ê°ë„  * Math.PI / 180;
 }

 context.arc(300, 200, 50, 0, ë¼ë””ì•ˆ(360), false);
 ```

 ë¼ë””ì•ˆ(360)ê°’ì€ 2PIê°€ ë‚˜ì˜¤ê³  ì´ í›„ ë‹¤ë¥¸ ê°ë„ë¥¼ ì•Œì•„ë³¼ ë•Œ ë¼ë””ì•ˆ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í•  ìˆ˜ ìˆë‹¤.

 ë§ˆì§€ë§‰ boolean ê°’ì€ ì‹œê³„ë°©í–¥/ë°˜ì‹œê³„ë°©í–¥ìœ¼ë¡œ ê·¸ë¦´ì§€ ì •í•˜ëŠ” ê°’ì´ë‹¤.

 >â— í˜„ì¬ê¹Œì§€ ë§Œë“¤ê¸°ë§Œ í•˜ê³  ì•„ì§ ì›ì„ ê·¸ë¦° ìƒíƒœëŠ” ì•„ë‹˜
  
  ```js
 function ë¼ë””ì•ˆ(ê°ë„) {
     return ê°ë„  * Math.PI / 180;
 }

 context.arc(300, 200, 50, 0, ë¼ë””ì•ˆ(360), false);
 context.stroke();
 ```
`context.stroke();` ì„ ìœ¼ë¡œ ê·¸ë¦°ë‹¤.
