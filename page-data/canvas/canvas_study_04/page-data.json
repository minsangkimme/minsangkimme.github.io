{"componentChunkName":"component---src-templates-blog-post-js","path":"/canvas/canvas_study_04/","result":{"data":{"site":{"siteMetadata":{"title":"김테디 블로그","author":"[minsangkimme]","siteUrl":"https://github.com/minsangkimme/minsangkimme.github.io","comment":{"disqusShortName":"","utterances":"minsangkimme/minsangkimme.github.io"},"sponsor":{"buyMeACoffeeId":"minsangkimme"}}},"markdownRemark":{"id":"7a23f6fc-9057-5caa-ab28-0e4d841fcc81","excerpt":"TransForm  1번째 사각형을 그린뒤 fillStyle로 색상을 orange로 변경 후 다시 2번째 사각형을 그렸습니다. fillStyle을 blue로 변경하고 300,300 위치에 3번째 원을 그리고 또 한번 같은 위치에 4번째 작은 원을 그렸습니다. 잠깐!🖐 4번째 원의 결과는 파란색 원이라고 생각했습니다만.. orange 원이 그려졌습니다.😲 마지막 fillStyle을 blue로 변경한 후 다른색으로 변경 한적이 없는데 어떻게 orange…","html":"<h1 id=\"transform\" style=\"position:relative;\"><a href=\"#transform\" aria-label=\"transform permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TransForm</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 1번째 사각형</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'orange'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 2번째 사각형</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncontext<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 3번째 원</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">restore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 4번째 원</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 386px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 104.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACs0lEQVQ4y6WUTWgTQRTHF5parfTQGlCK0qZVEK3eevBS0GILxUNVEC8K9qyHKnhQ8FLwpODBo2DTTVNNKX40NBcFISejTQ1C/Sg1lVSbZHeym22a1s3H33mTpKaabloc+DPLm53f/N/w5kl+vx9erxc+nw8ejwdTU1MIhUKgkcvlsJ2Rz+chraysiI2maYo5m80K0fd2RDAaUjQahWEY0HXdUpqmCW22lk6nC8ClpSUkEgkwxqCqKuLx+Kaidfrvb1GcMl0H0gm0QKdlMhmRMs3lolgymRT/kYFyUWwDkIIEi0QicLvdkOURjLldGBuVC+LfLtmJ+bkvSOoE4E4JVoT/47B0QiAQQG2tDZIkVdTE5Gv84psURRUwVnRYEZhKpTA9/R51uxrgsNfgzvk9uNXfKHT7bBNunmnAp4mrMEMPocYiHKZbOyTgDAdKNfXoO14HTB4EnrX90fN2QLYj52xG4udXMG2ZA1VrYJCAtnqcPrIDcDtgjrQgw2WOtGLN2YaszGPuDg6c40CjOlA4tO1Gz1Hu8IkDeVcLcq5WDt8PjNsBTxOfW8C2AqRAcPodv/w6dB+2CWABdgDG4w5cujiJY12z8A1dwaryEUoiVd3hh5kgGpr2ob+zEXjaDlPm9zjRiMGBUXT1BvBg8C6aT+j4Ho7wmtTWa7JiYdOCEo/i8/wifrwdBpx2ZIZ5qp6duHbZie6eV3h0/Qb2dsYR/rbIn6sG1QooTuMpGOkM0gtvkH1xEubLXsB7Cur4BZwbWMChPm74/j2sqrM85WVrh+Xvkqlq4X5Y4e0ua1GsJheR5POawWuQUUGzoqoAWfEFlCQ2ME1IXAvTBaj0r3XKpQcv0t+oAqD0fln15lCpLW1V5JCqRACpwyiKglgsZtkLrURNmlobtTgpHA6vB/9HZIoy/Q0CR7xCafDuZAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas11\"\n        title=\"canvas11\"\n        src=\"/static/2479e786b84b108c502f7503562df12b/7bc0b/canvas11.png\"\n        srcset=\"/static/2479e786b84b108c502f7503562df12b/5a46d/canvas11.png 300w,\n/static/2479e786b84b108c502f7503562df12b/7bc0b/canvas11.png 386w\"\n        sizes=\"(max-width: 386px) 100vw, 386px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>1번째 사각형을 그린뒤 fillStyle로 색상을 orange로 변경 후 다시 2번째 사각형을 그렸습니다.</p>\n<p>fillStyle을 blue로 변경하고 300,300 위치에 3번째 원을 그리고 또 한번 같은 위치에 4번째 작은 원을 그렸습니다.</p>\n<blockquote>\n<p>잠깐!🖐 4번째 원의 결과는 파란색 원이라고 생각했습니다만..<br>\norange 원이 그려졌습니다.😲</p>\n</blockquote>\n<p>마지막 fillStyle을 blue로 변경한 후 다른색으로 변경 한적이 없는데 어떻게 orange색으로 그려진 것일까요?</p>\n<h3 id=\"그것은-바로save-와-restore\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EA%B2%83%EC%9D%80-%EB%B0%94%EB%A1%9Csave-%EC%99%80-restore\" aria-label=\"그것은 바로save 와 restore permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그것은 바로..save 와 restore</h3>\n<p><strong><code class=\"language-text\">save()</code></strong></p>\n<ul>\n<li>canvas의 모든 상태를 저장합니다.</li>\n</ul>\n<p><strong><code class=\"language-text\">restore()</code></strong></p>\n<ul>\n<li>\n<p>가장 최근에 저장된 canvas 상태를 복원합니다.</p>\n<p>Canvas 상태는 <strong>스택(stack)</strong> 에 쌓입니다. <code class=\"language-text\">save()</code> 메소드가 호출될 때마다 현재 drawing 상태가 스택 위로 푸시됩니다.</p>\n<p>위 코드를 다시 보면 save 호출 시 canvas 상태를 저장하고, 임시로 색상을 blue로 변경 후 원을 그렸습니다.</p>\n<p>그런 다음 restore로 다시 이전 상태로 복원하고 원을 그리면 orange 색으로 원이 그려집니다.<br>\n<br /></p>\n<blockquote>\n<p>스택 구조로 쌓이기 때문에 초기 save —> 가장 최근 save 순서로 쌓입니다.\nrestore 하면 가장 최근 것 부터 pop 되게 됩니다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 705px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACSklEQVQoz4VTTW8TMRDdPw2CE+KEUIHycYL2UiGE+Dz0QBAcEAECaURbJXyUpkmaNCTZZLPZZHdtj9e7j7HTSKUS4mCNn5/nzXhm7CnKQNpgZVf7/+Hze2ul0vDcgXU45+gunMW8JOm/+OUdg0RqBGGEJJXw9ClprRWezxMkglggB3HE+SJ2kTVjJQkR80ItRa0PCgMjYxSZdkG9iVSOiBRfZseFVqB4Bm0IYz6bMT+bzrBgbsSCqZKQcYQ4I0wZv25pbP/IUBsR8iyD104FDAuOhMKUJN70JB7vEV7+IrREgolSnAEhYNtME1SHhI8thaovMZQCt2uEW59yPG8JsCK841NBnwUjzu5FU2K9UuDBnkZXphikCkIWGKaEE5Vi7bPG5bcFNuqcuZaOT6VBh3VsGZxgZgX5aWNeA46aZwYhKfRZYKtBuF7OsbFP8LMEdzmjq+8Mtr4rBPyiG1XCNeafHZ3JsOBOTYR0oieMc25OwI3pU4r7u4RLpRx3dljQJFiraFwsGWzWl4JXyoQLzD86OBVsSxYyBi2ydbJ1E/DzAh3e+0rgyRFhfb/Aw0PmtcDmT8JNxk/bEiE36N63Jb/dTQHW8UbBFLV6A/WDQ64FN2Yeo/yliuZxFwWA4dhHdfcr+sMBOI6zldoO/CBwfG/wG7uNOs+i5Brm8IIgROlVCeX3H9wcxnGKTucYMx7UzBQIwzm63RNE0cLhySR0OI6Fw9a/1+tD8nC7pggeicHQR8Cz5r5TlrvI9rIbeLY2M83nFmf/wKvf8wfrEoh8Fx5c3gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stack\"\n        title=\"stack\"\n        src=\"/static/ee5659a4813ed2530cee71dae905e2be/d2cbc/stack.png\"\n        srcset=\"/static/ee5659a4813ed2530cee71dae905e2be/5a46d/stack.png 300w,\n/static/ee5659a4813ed2530cee71dae905e2be/0a47e/stack.png 600w,\n/static/ee5659a4813ed2530cee71dae905e2be/d2cbc/stack.png 705w\"\n        sizes=\"(max-width: 705px) 100vw, 705px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n</ul>\n<h2 id=\"transform-이용하여-사각형-그리기\" style=\"position:relative;\"><a href=\"#transform-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EC%82%AC%EA%B0%81%ED%98%95-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"transform 이용하여 사각형 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transform 이용하여 사각형 그리기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> scaleValue <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token number\">350</span><span class=\"token punctuation\">,</span> <span class=\"token number\">350</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>scaleValue<span class=\"token punctuation\">,</span> scaleValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  scaleValue <span class=\"token operator\">+=</span> <span class=\"token number\">0.001</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">strokeRect</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">restore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n \n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>draw 함수를 살펴보면</p>\n<ul>\n<li><code class=\"language-text\">translate</code>를 통해 점의 좌표를 350, 350 좌표로 이동 시켰습니다.</li>\n<li><code class=\"language-text\">scale</code>를 통해 크기를 키웁니다.</li>\n<li>scaleValue는 0.001 크기만큼 증가합니다.</li>\n<li>strokeRect는 -50, -50 좌표에 100,100 크기의 사각형을 그립니다. <strong>여기서 -50, -50 좌표는 350, 350 으로 이동된 점의 좌표에서 -50씩 이동한 좌표를 의미합니다.</strong></li>\n<li><code class=\"language-text\">clearRect</code>를 통해 그려진 캔버스를 지웁니다.</li>\n<li><code class=\"language-text\">save</code>는 설정한 canvas 상태를 저장합니다. 즉 <code class=\"language-text\">clearRect</code> 까지 설정한 상태를 저장합니다.</li>\n<li><code class=\"language-text\">restore</code>를 통해 다시 이전 상태(<code class=\"language-text\">clearRect가 설정되어있는 상태</code>)로 복원시킵니다.</li>\n<li>해당 좌표에서 커지는 애니메이션 효과가 연출 됩니다.</li>\n<li><code class=\"language-text\">setTransform</code>은 변환을 초기화 해주는 역할을 합니다. 변환할 때 행렬을 이용하는데 setTransform(1,0,0,1,0,0) 값은 단위행렬을 의미합니다.</li>\n</ul>\n<blockquote>\n<p>👵 단위행렬: 행렬에 어떤 값을 곱했을 때 값의 변화가 없다 = 단위행렬로 만든다 = 변환을 초기화 한다 </p>\n</blockquote>\n<br />\n<br />\n<h3 id=\"-다양한-예\" style=\"position:relative;\"><a href=\"#-%EB%8B%A4%EC%96%91%ED%95%9C-%EC%98%88\" aria-label=\" 다양한 예 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a># 다양한 예</h3>\n<blockquote>\n<p>translate로 350,350 이동 후 strokeRect 좌표를 <strong>-50, -50</strong> 한 경우  </p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 573px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABK0lEQVQ4y61UyaqEQAz0/39GEDz4EeKCu1dx39GTS4YS5Dn9HKeVaSgM6XSlYtItWJZFkiSRKIokyzIpikKe59GyLDRN020IdLLWdd0253nmBgRgCV3XUVmWVFXVG+q65gbix3H8I2TJ7gCEEDQMwzvhHUUsPhI+KfU2Ies7lspdMnvoZ/8Q/qZpvgJx3AqzLKM4jilJku2720ekacpHiOyqqpLruuT7/naDANg7wjAkTdO2c1wKQda2LSGOBfxQFgQBFUXBR+g4zulNAuAHKZTCvmzKkZAdkyMpzv+cECU/Ijz693G5JDwb2jOFGKUoijb7ccnHJOgo5vFRybZt/9tDuejuaVOQbZ92Fnmek2EYpOs6mab5EdgHOV5uAZmuAAXf7jLi+r7fXu0XE0ww94OT/jUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas12\"\n        title=\"canvas12\"\n        src=\"/static/fe13e78f919e2c8925fa50e300d6be6f/3c024/canvas12.png\"\n        srcset=\"/static/fe13e78f919e2c8925fa50e300d6be6f/5a46d/canvas12.png 300w,\n/static/fe13e78f919e2c8925fa50e300d6be6f/3c024/canvas12.png 573w\"\n        sizes=\"(max-width: 573px) 100vw, 573px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<br />\n<blockquote>\n<p>translate로 350,350 이동 후 strokeRect 좌표를 <strong>0, 0</strong> 한 경우  </p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 597px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+ElEQVQ4y+2UyQqDQAxA5///y4OeBUEUV9x3BDc0JYGItbW10lPpwGO2zCPjSISu6yBJEqEoCsiyDEmSALZ5nmFZllNgLCKGYYB9m6YJuq6Dvu9X9vPt+tYhMJs0Te/IsuwUeZ5TX5YlZUlCXCiK4jIorarqUYgbXxdekf6FvyLc7vGYwfOXM+Rs9jRNcz1Dz/PAsixwHIewbRuCIPhcyGNVVUni+z7JXdeFKIqOhUdgDMaapknFgK+L48Mrn3lRwzDWSsO8fJR3GbJwe4aFiAjDEOI4pu+A/SswRtM04DO8hjUUi+w4jiBwUtf109/hGVxQ9+tt2xI3M1TvyRr9aG0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas13\"\n        title=\"canvas13\"\n        src=\"/static/daa1683132cd71b030ce26c8c43da195/17602/canvas13.png\"\n        srcset=\"/static/daa1683132cd71b030ce26c8c43da195/5a46d/canvas13.png 300w,\n/static/daa1683132cd71b030ce26c8c43da195/17602/canvas13.png 597w\"\n        sizes=\"(max-width: 597px) 100vw, 597px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<br />\n<blockquote>\n<p>save, restore 주석처리 한 경우</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//   context.save();</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token number\">350</span><span class=\"token punctuation\">,</span> <span class=\"token number\">350</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>scaleValue<span class=\"token punctuation\">,</span> scaleValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  scaleValue <span class=\"token operator\">+=</span> <span class=\"token number\">0.001</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">strokeRect</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//   context.restore();</span>\n\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />  \n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 541px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACDElEQVQ4y6VVO69pURDeCIUIiRAarQY10WtUHg1/QTQSCo2folEqhD+AQnNO5AYhHtGJ9/vtJPKdPeveveMc4nV38mXNWmvmWzN7Zs3iCoUCcrkcstks0uk0MpkM8vk8VqsVjscj9vs9DofD0+DW6zUGgwF6vR5GoxH6/T7m8znO5zPe+Rjh6XRiII9opJM2m83LoGi4yWSC6XQKGgXQ/BXMZjNmR7+JowUK8X9BpBStSEgL7+Iu4TuePSS8JT8C8TxF+GxirpJyK2Sab7dbVg673Y6NAmgu4HL/rofL5RKxWAxutxs+nw9er1eEx+MRQXsulwvJZPI+IYVgs9nAcdxTCIfDjwmdTidTlsvlkEqlVyQymQwKhYLJFM3dOiRCu93OlCUSCYNarYZGo2FQqVRsjQ4jnWg0+thDh8MheqPX6/H58YFKtYpOp4NUKvXD20gk8hqh0Wj8Wx68zfnrC6VSCVqtFiaTCUqlEolE4nXCGb+/pfocDjHk212n3Ua320Wj0UClUnn8Dy8JdTodisUi/vCGs3+1Sjp0Q0i/zZM/TUgZFrJstVqxWCzEK0fjkPe42Wzebl9C6L/LRsim2WxmhIIuyePxGK1WCxwJl831EmRgsViuas9gMIhNVWjI9IzU63VwJBApvSe/QcrxeJxdr0AggGAwCL/fj1AohCpfOpQEAsnlchm1Wg3fxtqS4EW57zwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas14\"\n        title=\"canvas14\"\n        src=\"/static/806695460ac070b5acba53c9338676e0/9d576/canvas14.png\"\n        srcset=\"/static/806695460ac070b5acba53c9338676e0/5a46d/canvas14.png 300w,\n/static/806695460ac070b5acba53c9338676e0/9d576/canvas14.png 541w\"\n        sizes=\"(max-width: 541px) 100vw, 541px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span> </p>\n<blockquote>\n<p>잠깐🖐 clearRect는 해당 영역을 다 지우고 다시 그리는데 왜 이렇게 나오는 걸까?</p>\n</blockquote>\n<br />  \n<p>위 처럼 결과가 나오는 이유는 점의 좌표를 350,350 이동시켜 놓은 상태에서 그럼 해당 위치한 곳(빨간점)이 0,0 기준이 되고 그 기준으로 canvas 너비,높이 만큼 지웠기 때문에 이런 결과가 나온것!!  </p>\n<h2 id=\"transform-이용하여-사각형-회전-시키기\" style=\"position:relative;\"><a href=\"#transform-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EC%82%AC%EA%B0%81%ED%98%95-%ED%9A%8C%EC%A0%84-%EC%8B%9C%ED%82%A4%EA%B8%B0\" aria-label=\"transform 이용하여 사각형 회전 시키기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transform 이용하여 사각형 회전 시키기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> scaleValue <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> rotaionValue <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">toRadian</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> d <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token operator\">/</span><span class=\"token number\">180</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token number\">350</span><span class=\"token punctuation\">,</span> <span class=\"token number\">350</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>scaleValue<span class=\"token punctuation\">,</span> scaleValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token function\">toRadian</span><span class=\"token punctuation\">(</span>rotationValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  context<span class=\"token punctuation\">.</span><span class=\"token function\">strokeRect</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  context<span class=\"token punctuation\">.</span><span class=\"token function\">restore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  scaleValue <span class=\"token operator\">+=</span> <span class=\"token number\">0.001</span><span class=\"token punctuation\">;</span>\n  rotationValue <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>도형을 회전시키기 위해 rotate를 사용하는데 원을 그리기 위해 들어가는 각도는 radian 을 이용한 값이 들어가야 합니다.</p>\n<p><code class=\"language-text\">toRadian</code> 이라는 함수를 만들었고 rotate에 전달할 때 <code class=\"language-text\">rotationValue</code>이 증가할 때마다 toRadian함수를 통해 각도가 계산되어 적용됩니다.</p>\n<br />\n<p>감사합니다 ^^!</p>","frontmatter":{"title":"[1분코딩] HTML5 Canvas 라이브 세션 #4","date":"October 11, 2021"}}},"pageContext":{"slug":"/canvas/canvas_study_04/","previous":{"fields":{"slug":"/etc/bm_font_apply/"},"frontmatter":{"title":"Gatsby 블로그 배민 폰트 적용하기"}},"next":null}},"staticQueryHashes":["2486386679","3128451518"]}