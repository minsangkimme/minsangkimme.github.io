{"componentChunkName":"component---src-templates-blog-post-js","path":"/canvas/canvas_study_01/","result":{"data":{"site":{"siteMetadata":{"title":"김테디 블로그","author":"[minsangkimme]","siteUrl":"https://github.com/minsangkimme/minsangkimme.github.io","comment":{"disqusShortName":"","utterances":"minsangkimme/minsangkimme.github.io"},"sponsor":{"buyMeACoffeeId":"minsangkimme"}}},"markdownRemark":{"id":"f1f37f9f-5e7c-5ac3-9ce4-5388dbf5e232","excerpt":"Canvas API Canvas API는 JavaScript와 HTML  엘리먼트를 통해 그래픽을 그리기위한 수단을 제공 합니다. 무엇보다도 애니메이션, 게임그래픽, 데이터 시각화, 사진 조작 및 실시간 비디오 처리를 위해 사용됩니다. Canvas API는 주로 2D 그래픽에 중점을 두고 있습니다. WebGL API 또한  엘리먼트를 사용하며, 하드웨어 가속 2D 및 3D 그래픽을 그립니다. 왜 Canvas를 사용할까? canvas…","html":"<h1 id=\"canvas-api\" style=\"position:relative;\"><a href=\"#canvas-api\" aria-label=\"canvas api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Canvas API</h1>\n<p>Canvas API는 JavaScript와 HTML <code class=\"language-text\">&lt;canvas></code> 엘리먼트를 통해 그래픽을 그리기위한 수단을 제공 합니다.</p>\n<p>무엇보다도 애니메이션, 게임그래픽, 데이터 시각화, 사진 조작 및 실시간 비디오 처리를 위해 사용됩니다.</p>\n<p>Canvas API는 주로 2D 그래픽에 중점을 두고 있습니다. WebGL API 또한 <code class=\"language-text\">&lt;canvas></code> 엘리먼트를 사용하며, 하드웨어 가속 2D 및 3D 그래픽을 그립니다.</p>\n<h2 id=\"왜-canvas를-사용할까\" style=\"position:relative;\"><a href=\"#%EC%99%9C-canvas%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C\" aria-label=\"왜 canvas를 사용할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 Canvas를 사용할까?</h2>\n<p>canvas판에 그려지는 데이터 자체가 픽셀 데이터 하나하나를 비트맵 데이터 조작을 할 수 있기 때문에 일반 이미지나 HTML, CSS 로 할 수 없는 작업을 할 수 있기 때문에 사용합니다.</p>\n<blockquote>\n<ul>\n<li>비디오를 잘게 쪼개어 위치를 바꾼다던지</li>\n<li>이미지를 조각조각 내어 어떻게 한다던지</li>\n<li>이미지들이 점점 사라지는 효과를 만들어 낸다던지.</li>\n</ul>\n</blockquote>\n<p>이미지를 움직이거나 할 때에도 canvas를 사용하는게 일반적으로 성능이 좋기 때문에 사용합니다. </p>\n<p>Apple 같은 사이트에서 큰 비주얼을 움직일 때 canvas를 사용합니다.</p>\n<h2 id=\"svg-vs-canvas-비교\" style=\"position:relative;\"><a href=\"#svg-vs-canvas-%EB%B9%84%EA%B5%90\" aria-label=\"svg vs canvas 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SVG vs Canvas 비교</h2>\n<blockquote>\n<p>SVG는 백터</p>\n</blockquote>\n<ul>\n<li>백터는 점과 점을 계산해서 그리는 방식</li>\n<li>연산으로 그림을 그리기 때문에 크기가 아무리 커져도 용량이 늘어나지 않는다\n점의 갯수가 많아지면 연산이 늘어나고 렌더링이 느려질 수 있다.</li>\n</ul>\n<blockquote>\n<p>Canvas는 비트맵</p>\n</blockquote>\n<ul>\n<li>픽셀 갯수가 많아지면 용량이 커진다.</li>\n</ul>\n<h2 id=\"canvas-inline-너비-높이-값은-별개다\" style=\"position:relative;\"><a href=\"#canvas-inline-%EB%84%88%EB%B9%84-%EB%86%92%EC%9D%B4-%EA%B0%92%EC%9D%80-%EB%B3%84%EA%B0%9C%EB%8B%A4\" aria-label=\"canvas inline 너비 높이 값은 별개다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Canvas inline 너비 높이 값은 별개다.</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">style {\n    .canvas {\n        width: 500px;\n        height: 300px;\n        background: #eee;\n    }\n}...\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canvas<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canvas<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>600<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span>\n\n 동그라미는 js에서 canvas로 그림.</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABP0lEQVQ4y5WUzY2DMBCFXQetcKUBSqAO6kBpgyKQOOQecQEOUQARSELCvyJeMl6MdvldjJ4wePzpzXiApWmK1+sFGlVVIUkS0Lsl0Xqe5zy+67pB4pnR4vF4hKZpME0TRVHwTbfbbVabwLZtoSgKGGOQJAnn8xmPx2PW6RLwO8MP8wtsmga6rnOgqqrDRnEXWgPSNTi83+/ckW3bCMMQz+dzAtsCogdyhyKdsixB8DnYVg0nQAq6Xq+rp/uvlAlIQeRszdU49YnDrkdSDbMsA4nqSOA1UQxBqbUmDrve4eFwgCzLPHgrZVEe8SHM9qFlWTAM4w9w76H8FiP77/d7sU3iOEYQBIvA8WB0urRpK00xp/i5lAeH1Mx7dLlcOLiua/4zGYv5vo898jyPQ5e6gjmOgz06nU5wXRdRFM1m8AGnI696+VmftgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas01\"\n        title=\"canvas01\"\n        src=\"/static/3d6673296c03b6f23f8847fc4e3055b7/01e7c/canvas01.png\"\n        srcset=\"/static/3d6673296c03b6f23f8847fc4e3055b7/5a46d/canvas01.png 300w,\n/static/3d6673296c03b6f23f8847fc4e3055b7/01e7c/canvas01.png 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p> 위 사진 결과가 다르게 표현되는 이유는 canvas 태그 안을 보면 inline으로 너비와 높이값이 다르게 설정되었기 때문이다.\ncss로 처리해서 겉보기엔 같아 보이는 넓이와 높이를 가지고 있지만 inline으로 canvas 영역이 잡혀있기에 서로 다르게 표현된 것이다.</p>\n<p> canvas 영역을 더 크게 잡아두고 보이는 해상도 만큼 그리면 고해상도 이미지를 연출 할 수 있기 때문에 이러한 방법들을 사용한다고 한다.   </p>\n<p> 단 그만큼 용량과 연산이 많아지기 때문에\n상황을 고려하여 사용하여야 한다.</p>\n<h2 id=\"사각형-그리기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EA%B0%81%ED%98%95-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"사각형 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사각형 그리기</h2>\n<p> 그림을 그릴 때 canvas의 context를 이용하여 그린다. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n \n context<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n context<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">;</span>\n context<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol>\n<li>canvas 요소를 잡는다.</li>\n<li>잡은 canvas 객체의 context를 얻기 위해 getContext를 호출하여 얻는다.( 2차원 렌더링 컨텍스트를 나타내는 “2d”를 이용)</li>\n<li>사각형을 그리는데 (x, y, width, height) 순서이고 x,y는 50, 50이고 width, heights는 100, 100을 의미함.</li>\n<li>사각형을 그릴 것 인데 채우는 색을 ‘red’ 로 지정함.</li>\n<li>사각형을 그리는데 (x, y, width, height) 순서이고 x,y는 0,0이고 0,0은 왼쪽 좌측 상단을 의미함.</li>\n</ol>\n<p>사각형 그리는 요소 </p>\n<ul>\n<li>fillStyle 색을 정할 때 사용함</li>\n<li>fillRect 사각형을 그릴 때 사용</li>\n<li>clearRect 사각형을 지울 때 사용</li>\n<li>strokeRect 는 선으로 사각형을 그릴 때 사용</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 459px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/UlEQVQ4y82Tu27CMBSG/QJMqAsLEkid2oqpaQIDU4furH2HTKD2kQpzeAwub5GLE0SuxOTvsVEoSAxW1AFLnwfrnM9H9jms+pygMp4ghgOIzQoHANz3EYahNpxzpGkKuVj1PgI6LaD3gJ/vGeaOg/0ugk/SIAi0kLFJkpyEx48x0G0DL308MoaBZaESAp7nqZt1kNKzUGzXWHxN8UwyRhimCVGWcF1XBeoIryosaFs4S1XZ65sJ27aRZZmqsJEwooMdPeyBJDkRx7G26LYwOn3AJfW7NKuQhHXipeRfhE25f+FVH9afojsVt5At9teHRaH6Ls/zxsj8koZBrl+Hc7vC4gwdkAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas02\"\n        title=\"canvas02\"\n        src=\"/static/8bb73a499ff5c7bc04ce59f493b0b921/48711/canvas02.png\"\n        srcset=\"/static/8bb73a499ff5c7bc04ce59f493b0b921/5a46d/canvas02.png 300w,\n/static/8bb73a499ff5c7bc04ce59f493b0b921/48711/canvas02.png 459w\"\n        sizes=\"(max-width: 459px) 100vw, 459px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>default 색은 검정색 이어서 검정 사각형이 그려진 것이고 이 후 빨간색을 지정한 사각형이 그려졌다. 이 후 다른 도형을 그린다면 빨간도형으로 그려질 것이다.</p>\n<blockquote>\n<p>🙄 빨간색으로 색이 지정된 것은 붓으로 빨간색을 찍었다 라고 생각해보자</p>\n</blockquote>\n<blockquote>\n<p>✨ canvas는 마치 그림을 그리는 것처럼 생각하자 </p>\n</blockquote>\n<h2 id=\"선-그리기\" style=\"position:relative;\"><a href=\"#%EC%84%A0-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"선 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>선 그리기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token comment\">// beginPath</span>\n    <span class=\"token comment\">// moveTo</span>\n    <span class=\"token comment\">// lineTo</span>\n    <span class=\"token comment\">// closePath</span>\n    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">moveTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// context.fill();</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">closePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>scirpt<span class=\"token operator\">></span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">context.beginPath();</code> 는 선의 시작을 알려주는 것</li>\n<li><code class=\"language-text\">context.moveTo(100, 100);</code> 그리는 것이 아니고 그리기 위해 해당 위치로 붓을 옮긴다 라는 의미</li>\n<li><code class=\"language-text\">context.lineTo(300, 200);</code> 는 선을 생성한다 여기서 그린다고 해서 바로 보이진 않음.</li>\n<li><code class=\"language-text\">context.stroke();</code> 선을 긋는다. 이제 선이 그려짐</li>\n<li><code class=\"language-text\">context.fill();</code> 면 이있다면 그 면의 색을 채워줌</li>\n<li><code class=\"language-text\">context.closePath();</code> path의 작성이 끝났으면 닫아준다.</li>\n</ul>\n<h2 id=\"원-그리기\" style=\"position:relative;\"><a href=\"#%EC%9B%90-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"원 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>원 그리기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>   \n    <span class=\"token comment\">// beginPath</span>\n    <span class=\"token comment\">// arc</span>\n    <span class=\"token comment\">// closePath</span>\n    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">360</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>scirpt<span class=\"token operator\">></span></code></pre></div>\n<p> 원 그리기 메소드가 따로 있는 것은 아니고 ‘arc(호)’ 를 사용하여 360 도 그린다</p>\n<ul>\n<li><code class=\"language-text\">context.arc(300, 200, 50, 0, 360);</code> 도형의 호를 의미함\n원의 중심점을 기준으로 그리기 때문에 x,y는 원의 중심점을 의미하고 50은 원의 반지름 이다. 4,5번째 인자 (0, 360)은 호의 시작 각도, 끝 각도를 의미함. 360도를 그대로 쓰면 안되고 radian 값으로 적어야 한다.</li>\n</ul>\n<p> 360 = 2PI,\n1 = PI / 180 값이 나온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">라디안</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">각도</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> 각도  <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">라디안</span><span class=\"token punctuation\">(</span><span class=\"token number\">360</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> 라디안(360)값은 2PI가 나오고 이 후 다른 각도를 알아볼 때 라디안 함수를 이용하여 구할 수 있다.</p>\n<p> 마지막 boolean 값은 시계방향/반시계방향으로 그릴지 정하는 값이다.</p>\n<blockquote>\n<p>❗ 현재까지 만들기만 하고 아직 원을 그린 상태는 아님</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">라디안</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">각도</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">return</span> 각도  <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">/</span> <span class=\"token number\">180</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">라디안</span><span class=\"token punctuation\">(</span><span class=\"token number\">360</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncontext<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">context.stroke();</code> 선으로 그린다.  </p>\n<h2 id=\"requsetanimationframe\" style=\"position:relative;\"><a href=\"#requsetanimationframe\" aria-label=\"requsetanimationframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>requsetAnimationFrame</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n        context<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        context<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// requsetAnimationFrame(draw);</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 646px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABL0lEQVQ4y62T206DQBRF+Xj7B/bNfgGtoeVRBPrAAz9AbCA2lKi03CnlKmyZqcVao1LrJCuZPUxWTs4cmNHNCIqiYC7PIQgChDsBcrsX70WIogRZktssQ2r3qqoiSZIfYViWxfJxCU3TYBgGTNPEylzB0A16TrJt29B1HZZloa5rNE3zLQzHcSArS3MUeYE821PkZZezNKM5z3LE0faIGMk2oaLDYsbsuD3cYW07cB3vVzzX7yA58INOSCskwnSX0Y++F5wFkYZB+Fk4nc5QFhWcjft+0e8h+hAGp8Lh9RDPTy9t6SG9cG6FX4SDqwEWDwtEYdz15iIhP+NRla/YrJ3u0kXCf3+UyXhCheRRjkeiL6T3J8JbOryHmepPSKsMg+ikhzxPQ1VW9Lf6C8fCN34V0n54funfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas03\"\n        title=\"canvas03\"\n        src=\"/static/f38123c640cbb07728044d57b7840336/27524/canvas03.png\"\n        srcset=\"/static/f38123c640cbb07728044d57b7840336/5a46d/canvas03.png 300w,\n/static/f38123c640cbb07728044d57b7840336/0a47e/canvas03.png 600w,\n/static/f38123c640cbb07728044d57b7840336/27524/canvas03.png 646w\"\n        sizes=\"(max-width: 646px) 100vw, 646px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>requsetAnimationFrame은 그리기 최적화 된 상태에서 그리기 시작한다.   </p>\n<p>requsetAnimationFrame 자체적으로 반복하면서 그리는 것은 아니고 인위적으로 반복시켜 애니메이션 효과를 나타낸다.</p>\n<p>requestAnimationFrame 속도 조절을 아래와 같은 방법으로 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> xPos <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">%</span> <span class=\"token number\">30</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span>xPos<span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            xPos <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        \n        count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">requsetAnimationFrame</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<p>애니메이션 멈추는 방법</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> xPos <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> timerId<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">%</span> <span class=\"token number\">30</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span>xPos<span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            xPos <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token comment\">// 방법 1..</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xPos <span class=\"token operator\">>=</span> canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// -10 이유는 원의 반지름만큼 빼면 끝에 닿았을 때 멈추기 위해서</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        timerId <span class=\"token operator\">=</span> <span class=\"token function\">requsetAnimationFrame</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// 방법 2.</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xPos <span class=\"token operator\">>=</span> canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">clearAnimationFrame</span><span class=\"token punctuation\">(</span>timerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code></pre></div>","frontmatter":{"title":"[1분코딩] HTML5 Canvas 라이브 세션 #1","date":"October 03, 2021"}}},"pageContext":{"slug":"/canvas/canvas_study_01/","previous":null,"next":{"fields":{"slug":"/canvas/canvas_study_02/"},"frontmatter":{"title":"[1분코딩] HTML5 Canvas 라이브 세션 #2"}}}},"staticQueryHashes":["2486386679","3128451518"]}