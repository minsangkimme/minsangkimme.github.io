{"componentChunkName":"component---src-templates-blog-post-js","path":"/canvas/canvas_study_02/","result":{"data":{"site":{"siteMetadata":{"title":"김테디 블로그","author":"[minsangkimme]","siteUrl":"https://github.com/minsangkimme/minsangkimme.github.io","comment":{"disqusShortName":"","utterances":"minsangkimme/minsangkimme.github.io"},"sponsor":{"buyMeACoffeeId":"minsangkimme"}}},"markdownRemark":{"id":"f5f1d7c6-3473-556d-8a6c-7dd101cafe66","excerpt":"canvas에서 Image 사용하기 canvas에서 image를 할 때 html에서 정의하는 것이 아니고 스크립트로 Image element를 생성하고 src 속성을 정의합니다. 이 때 정의한 리소스는 외부 리소스 이기 때문에 \nloading 시간이 필요하고 canvas에 그릴려면 이미지가 load가 끝나야 그릴 수 있기 때문에 image element에 addEventListener로 ‘load’ 이벤트를 추가하고 콜백함수에서 context.drawImage…","html":"<h1 id=\"canvas에서-image-사용하기\" style=\"position:relative;\"><a href=\"#canvas%EC%97%90%EC%84%9C-image-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"canvas에서 image 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>canvas에서 Image 사용하기</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//  const imgElem = document.createElement('img);</span>\n <span class=\"token keyword\">const</span> imgElem <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n imgElem<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'../images/ilbuni1.png'</span><span class=\"token punctuation\">;</span>\n imgElem<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>imgElem<span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>canvas에서 image를 할 때 html에서 정의하는 것이 아니고 스크립트로 Image element를 생성하고 src 속성을 정의합니다.<br>\n이 때 정의한 리소스는 외부 리소스 이기 때문에\nloading 시간이 필요하고 canvas에 그릴려면 이미지가 load가 끝나야 그릴 수 있기 때문에 image element에 addEventListener로 ‘load’ 이벤트를 추가하고 콜백함수에서 context.drawImage() 를 통해 이미지를 그립니다.</p>\n<p>첫 번째 인자는 그릴 이미지 객체를 넣고 2,3 번 째 인자는 x,y 값을 의미합니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABfElEQVQ4y51T7W6CQBD0/R/EF/CXD2CNSa0/rIhVQFBAFPALNH5Ob7bBohFsuslw3O3e3OzeXmUymWA4HIIj7Xq9/gu01WqFim3baLfb6PV6yFs+8JX9Ei5ROR6POJ1OOBwO2Gw2gu12i90uRZomt7UycP9NIT/z+RyLxQJhGMribDaDaVqwHQ9RFCtE4uP4CK5TDG25VArX6/XNyX/TNNDtfsL3Xbj2G3TtXR0WIY7jp+C+p4RU5rouOp2PXHVCpSCAYRgqtZ+4MkJJOSPkyI3j8Vip89TNj6BpX5JSq9XCdDoVBY+khQo58X1fkWgqcKmUdqSVRqMhqtWq/FNBGeGdQoK3q+u6kNEulwuazSb6/b74XqUsCnnt+UCm12g0EAQBPM8TsuzQjKBUYZ6Q9SIJm52tQ1K+oizVDH8mJDhnLQeDgYDpF7VMYQ2pLAODHMdBvV6XdGu1mtQmH/OIO8L9fo8kSdQzS2XknEFsIR5mWZas0V+E8/l8I/wGXfskSu3weSgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas04\"\n        title=\"canvas04\"\n        src=\"/static/e194942eb109360d3603be2ab3ed4c0a/15d25/canvas04.png\"\n        srcset=\"/static/e194942eb109360d3603be2ab3ed4c0a/5a46d/canvas04.png 300w,\n/static/e194942eb109360d3603be2ab3ed4c0a/15d25/canvas04.png 497w\"\n        sizes=\"(max-width: 497px) 100vw, 497px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> imgElem<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>imgElem<span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>imgElem<span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>imgElem<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>첫 번째 drawImage는 x,y 좌표에 이미지를 그립니다.</li>\n<li>두 번째 drawImage는 x,y 좌표에 width, height 만큼의 크기로 이미지를 그립니다.</li>\n<li>세 번째 drawImage는 원본사진 100, 100 좌표에서 200, 200만큼 잘라서 캔버스 0,0 좌표에 100, 100 width, height 만큼의 크기로 이미지를 그립니다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 708px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABuUlEQVQ4y51T2W7iQBDk/z8gX5B9SPgEloeAELyEcAZsEy4j2zjGBxa2CUdlqiVHXkQQ2pFKMz3TXequ6S51u138rVTQqlbB9XU44PCf2O/3KB2PR7jrNeyHB2xXK+yVnSQJsiwTpGmikP3Yv4HrfD6jZBgGLNvGa7MJZ7mE7/uIogifn66ChzCK4XneTTDmdDoJSvP5HCvLxke/C+/5SRwGgwHGYw3auAdDe8MmiOAHPvzNRoKL2Ki7IAiETDLkpa6y1N7f4SwWaLfbsFXGsg46HHeM0Usd4dpRxIEQ5LhKyPL4YCr9hqMRdF2XB2q3jQIk2ReMzhtMVUmofItkl4RSchiGcuk4DobDIUzThOu6aDQaYAeY5hIv9TqaSuN4u71JKBnmhLxktnnJtC3LEvx5fMRSyZH73tQwdyJ4nk6nqKi+ZDtx9ft9kSGO4390u4uQDq1WC7VaTTJj+b1eTwKKn3GXhvkjbfYm9zRNRdfgyu/eTUgdWfZkMkGn05HPYLbX9PuVkM3MB+4k1DQNVTXbK9VK5XJZdgblfkUUJ0U0ZFmc3Ry0STqbzWTYSbbb7XDpdxlDMpJ+Az1QHLvDbxOXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas05\"\n        title=\"canvas05\"\n        src=\"/static/01e7f549b36ee18dab5353003980d2db/3cb0f/canvas05.png\"\n        srcset=\"/static/01e7f549b36ee18dab5353003980d2db/5a46d/canvas05.png 300w,\n/static/01e7f549b36ee18dab5353003980d2db/0a47e/canvas05.png 600w,\n/static/01e7f549b36ee18dab5353003980d2db/3cb0f/canvas05.png 708w\"\n        sizes=\"(max-width: 708px) 100vw, 708px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"canvas-이용하여-그림-그리기\" style=\"position:relative;\"><a href=\"#canvas-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EA%B7%B8%EB%A6%BC-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"canvas 이용하여 그림 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>canvas 이용하여 그림 그리기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n <span class=\"token keyword\">function</span> <span class=\"token function\">clickHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">이벤트</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token comment\">// 이벤트에 있는 clientX, clientY 는 브라우저 기준으로 좌표를 잡는다.</span>\n     <span class=\"token comment\">// 이벤트에 있는 layerX, layerY는 캔버스 기준으로 좌표를 잡는다.</span>\n     \n     context<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span>이벤트<span class=\"token punctuation\">.</span>layerX<span class=\"token punctuation\">,</span> 이벤트<span class=\"token punctuation\">.</span>layerY <span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n\n canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> clickHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 667px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtUlEQVQ4y52TyaoCQQxF+9v9Czfu9ANEdCOKMwqKIE7QIM7zPC80jxOootX2LWwInUolN8lNxcnlcpJKpSSbzcr1epXT6STn8/lncabTqbTbbel2u8L3eDzk+Xz+LM7lclGFb7fbWdnv91/F7/5wOGgxzna7lUAgIOFw2DpzuVqtZLPZqKzXayvYiUHQjR0/BTwej1KtViUUCilQs9mUSCQi2OfzucxmMwuMkHAwGMhoNFLdAJLAVsggaBtSGVClUlEK+GcyGbndbrJcLhWIpOVyWWq1msaZKi0gWRaLhcRiMc1IhcFgUPL5vMBvr9cT13X1DlD+nAH30vECSJZGo6FtwiOVlUolud/vUq/XpVAo6JMiEJ9isaj2RCLh3zIGqqGNfr9v3yOJSAgIdvg0vpyTyaQW4Fsh3KTTael0OgoWjUa1XdriHI/HtVV4xjYcDrUrM5gPQILYGpzQmSKcmQoAarVamsS8VWy+HBojuqGAKgiAJ7YIGuCOrYJbeGZd8TFv8wXQOzGj4wRXvEdsZmjok8lExuOxLeBjKN+EhCaBdzPMtnxsCsPw7vC7EPTfvXf3AfwDDDpha885pNkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas06\"\n        title=\"canvas06\"\n        src=\"/static/ce04b19afb9de285cd46dec8096b7c66/295bd/canvas06.png\"\n        srcset=\"/static/ce04b19afb9de285cd46dec8096b7c66/5a46d/canvas06.png 300w,\n/static/ce04b19afb9de285cd46dec8096b7c66/0a47e/canvas06.png 600w,\n/static/ce04b19afb9de285cd46dec8096b7c66/295bd/canvas06.png 667w\"\n        sizes=\"(max-width: 667px) 100vw, 667px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>클릭할 때 마다 좌표에 그려지는 것을 확인할 수 있습니다. 그렇지만 클릭된 상태에서 마우스를 움직여 그릴 수 없는 상태입니다.</p>\n<p><code class=\"language-text\">canvas.addEventListener('click', clickHandler);</code> 이 click 이벤트를 <code class=\"language-text\">mousemove</code> 이벤트로 변경해보면 이번엔 클릭하지 않아도 마우스를 움직일 때 그려지는 것을 확인할 수 있습니다. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 724px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABr0lEQVQ4y6WTS6tBYRSG/Qp/xY8xM1KUgYGimFOYMDHzA0SktAeUEVMlSRko5X6/X169q5azz8Y5p85Xb2t/9vqe711rLzbDMFAsFrFarXA6nXA4HP4l23w+x2g0wvV6xe12k6jS/eVywfl8fiu+u9/v4GK00dl6vQbBVk2nU8xmM3FOMKNC9NLj8SjxCdRDZilss9nIZZVKBbFYDOl0GolEAtFoVGImk0GtVsNut/sCKsDqjLBerwePx4NIJIJ8Po9Go4F6vY5qtYpCoSDAUCgkeVxs0RNodbhcLuH1euWDcbFcOqHYfJZOR/ydLXhxqHEymUhCNptFKpWSRLpdLBbinD1nDjUejyUS/hZI8dB+v0cwGES73ZZ35XJZyiK40+mIe/O5H4FMHgwGAmR5yWQSbrcbgUAATqcTuVxOviyd/Qqku+12i1arhXA4LEk+nw/NZhMul0vEduhk/Mkhe9Tv9+Vwt9tFqVSC3W6Hw+H41kudiI9A88iwhxwTv98vIxOPxzEcDuUyM+wj0Coe4miwfD5zNNjbd3+CFyATeTOjinvezvL02ZzHqOLePIcPlML/NwHBwTAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas07\"\n        title=\"canvas07\"\n        src=\"/static/47afcd6cf2ea42861d2d6b5d97349a1f/a242d/canvas07.png\"\n        srcset=\"/static/47afcd6cf2ea42861d2d6b5d97349a1f/5a46d/canvas07.png 300w,\n/static/47afcd6cf2ea42861d2d6b5d97349a1f/0a47e/canvas07.png 600w,\n/static/47afcd6cf2ea42861d2d6b5d97349a1f/a242d/canvas07.png 724w\"\n        sizes=\"(max-width: 724px) 100vw, 724px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>그렇지만 클릭하지 않아도 그려지는 것은 맘에 들지 않습니다!<br>\n마우스를 누르고 있을 때 그려지고, 띄었을 땐 안그려지게 수정되어야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">let</span> drawingMode <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true일 때만 그리기</span>\n\n <span class=\"token keyword\">function</span> <span class=\"token function\">downHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    drawingMode <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">function</span> <span class=\"token function\">upHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     drawingMode <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">function</span> <span class=\"token function\">moveHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">이벤트</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>drawingMode<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> \n\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span>이벤트<span class=\"token punctuation\">.</span>layerX<span class=\"token punctuation\">,</span> 이벤트<span class=\"token punctuation\">.</span>layerY <span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span><span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     context<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n\n canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> downHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousemove'</span><span class=\"token punctuation\">,</span> moveHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mouseup'</span><span class=\"token punctuation\">,</span> upHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>drawingMode가 true 일 때만 그리게 한다면\n원하는 효과를 얻을 수 있습니다.</p>\n<p><code class=\"language-text\">mousemove</code> 이벤트 에서 drawingMode가  false 일 때는 return을 시킵니다.<br>\n<code class=\"language-text\">mousedown</code> 에서 drawingMode true로 변경 시키고 그 상태에서 마우스를 움직이면 그려집니다.<br>\n<code class=\"language-text\">mouseup</code> 에서 drawingMode false로 변경 시키면 그리는 것이 멈춰집니다.  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 712px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABuklEQVQ4y6VTTctpYRT1S/wPf8TIhDKmFJEhmRihMJFSzJSJiTKRkYGipESSge/v76/1tnZtuTfnHdx7anf2s5/9rLX2Os8x1et1VKtV1Go1nM9nHI/H/wrTdDrFcDjEaDQCn+fz+TUejwfu97sE16/X673HXMO03W5xOp0Efb1eY7VaYblcSv65pnoFZi/r2kMM7vExzedzLBaLd2w2GyFgTvW6bjQaKBQKKBaL6HQ6UieRkr8BeZBsfPPgYDBAuVzGfr+XhvF4DLfbDafTiWg0imAwiFKphMPhIGe+AirTbDaDzWZDIpEQ8GQyCYvFgnA4LP7cbjfxkGDs/7TnD0BV1+v1EI/HkU6n4fV64XA4YDab4ff7cblcxLvr9foG+gpIDzleu91Gs9mUYi6XQygUkjyTyaDVagkY66lUSiYhiKGH/Er9fh/dblfGood2ux2VSgX5fF6uVSQSERKfzweXyyWjU4yhhwTd7XbSRI8IFAgERBEVWq1WTCYTeDweZLNZGd3wo6gXn77wgF5m+kcQgsZiMfFb+38F5FtzKtXgmiDcI9Hf5L8qNArtUwJDhVpQdf8S/GsU8AeksPmFQth2dwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"canvas09\"\n        title=\"canvas09\"\n        src=\"/static/a5efc21049566dc7f47f219986345a6b/3d4b6/canvas08.png\"\n        srcset=\"/static/a5efc21049566dc7f47f219986345a6b/5a46d/canvas08.png 300w,\n/static/a5efc21049566dc7f47f219986345a6b/0a47e/canvas08.png 600w,\n/static/a5efc21049566dc7f47f219986345a6b/3d4b6/canvas08.png 712w\"\n        sizes=\"(max-width: 712px) 100vw, 712px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>","frontmatter":{"title":"[1분코딩] HTML5 Canvas 라이브 세션 #2","date":"October 04, 2021"}}},"pageContext":{"slug":"/canvas/canvas_study_02/","previous":{"fields":{"slug":"/canvas/canvas_study_01/"},"frontmatter":{"title":"[1분코딩] HTML5 Canvas 라이브 세션 #1"}},"next":{"fields":{"slug":"/canvas/canvas_study_03/"},"frontmatter":{"title":"[1분코딩] HTML5 Canvas 라이브 세션 #3"}}}},"staticQueryHashes":["2486386679","3128451518"]}